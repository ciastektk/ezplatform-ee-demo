{% extends "@ezdesign/pagelayout.html.twig" %}

{% block page_head %}
    {% set title = ez_content_name(content) %}
    {{ parent() }}
{% endblock %}

{% block content %}
<div class="page page__professionals">
    <h1 class="text-center">Professionals!</h1>
    <div class="container">
        <div class="row">
            <div class="col-md-3">
                {{ render_esi(controller('App\\Controller\\ProfessionalsController::getMenuAction', {
                    template: '@ezdesign/layout/menu.html.twig',
                    pathString: ezplatform.rootLocation.pathString,
                    rootLocationId: ezplatform.rootLocation.id,
                    currentLocationId: location ? location.id : null
                })) }}
            </div>
            <div class="col-md-9">
                {% if professionals is defined and professionals|length > 0  %}
                    <div class="professionals_list">
                        {% for professional in professionals %}
                            {{ render_esi(controller('ez_content:viewAction', {
                                locationId: professional.valueObject.contentInfo.mainLocationId,
                                viewType: 'card'
                            })) }}
                        {% endfor %}
                    </div>
                    {% if professionals.haveToPaginate() %}
                        <div class="col-12">
                            {{ pagerfanta(professionals, 'maison_template', {
                                routeName: location,
                                routeParams: ezplatform.requestStack.masterRequest.query.all
                            }) }}
                        </div>
                    {% endif %}
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}
